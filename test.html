<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta property="og:title" content="US4 | Proxy">
  <meta property="og:description" content="Search the web freely with our web proxy!">
  <meta property="og:image" content="/storage/images/logo.png">
  <title>Home</title>
  <link rel="icon" href="https://voucan-us4.github.io/storage/images/googleclassroom.png" type="image/png">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-K8CCSDNPV3"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() {
      dataLayer.push(arguments);
    }
    gtag('js', new Date());
    gtag('config', 'G-K8CCSDNPV3');
  </script>
  <style>
      .nav-btn {
      text-decoration: none;
      color: white;
      font-size: 18px;
      padding: 8px 15px;
      border-radius: 5px;
      background: rgba(255, 255, 255, 0.1);
      border: none;
      transition: background-color 0.3s, box-shadow 0.3s;
    }

    .nav-btn:hover {
      background: rgba(255, 255, 255, 0.3);
      box-shadow: 0 0 20px 5px rgba(213, 0, 249, 0.7);
    }

    .nav-btn:focus {
      box-shadow: 0 0 30px 8px rgba(213, 0, 249, 0.9);
    }
    /* Global reset for all elements */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Comfortaa', sans-serif;
      font-weight: bold;
    }

    body, html {
      height: 100%;
      overflow: hidden;
      display: flex;
      flex-direction: column;
      background-color: #121212; /* Dark background */
      animation: fadeIn 1.2s ease-out; /* Fade-in effect for the whole page */
    }

    /* Glowing Tabs Styles */
    .tabs {
      display: flex;
      justify-content: flex-start;
      align-items: center;
      background: rgba(0, 0, 0, 0.9);
      border-bottom: 2px solid #D500F9; /* Accent color */
      width: 100%;
      position: fixed;
      top: 0;
      left: 0;
      z-index: 1200;
      height: 60px;
      padding: 10px 20px;
      animation: fadeIn 1s ease-out;
    }

    /* Style for individual tab */
    .tab {
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 12px 20px;
      color: #E1E1E1; /* Light gray text for dark background */
      cursor: pointer;
      background-color: rgba(255, 255, 255, 0.1);
      border-radius: 20px 20px 0 0;
      margin-right: 10px;
      transition: background-color 0.3s, transform 0.3s, box-shadow 0.3s;
      font-size: 14px;
      max-width: 200px;
      flex-grow: 1;
      text-overflow: ellipsis;
      overflow: hidden;
      position: relative;
      box-shadow: 0 1px 2px rgba(0, 0, 0, 0.2);
      opacity: 0;
      animation: fadeInTab 1s ease-out forwards; /* Fade-in effect for tabs */
    }

    /* Active tab style */
    .tab.active {
      background-color: #D500F9; /* Accent color */
      color: white;
      box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
      transform: scale(1.05);
    }

    /* Hover effect for tabs */
    .tab:hover {
      background-color: rgba(213, 0, 249, 0.2); /* Slight hover effect using accent color */
      transform: scale(1.05);
      box-shadow: 0 0 15px rgba(213, 0, 249, 0.8);
    }

    /* Close button on the tab */
    .tab .close-button {
      position: absolute;
      top: 50%;
      right: 5px;
      transform: translateY(-50%);
      font-size: 18px;
      color: white;
      cursor: pointer;
      padding: 0 5px;
      transition: color 0.3s ease;
      opacity: 0;
      animation: fadeInCloseButton 1s ease-out forwards; /* Fade-in close button */
    }

    .tab .close-button:hover {
      color: #D500F9;
      transform: scale(1.2);
    }

    /* Add Tab Button */
    .add-tab-button {
      background: transparent;
      border: none;
      color: white;
      font-size: 30px;
      cursor: pointer;
      padding: 5px 10px;
      border-radius: 5px;
      transition: background-color 0.3s ease, transform 0.3s;
      margin-left: 20px;
    }

    .add-tab-button:hover {
      background: rgba(255, 255, 255, 0.1);
      transform: scale(1.1);
    }

    /* Navbar Styles */
    .navbar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: rgba(0, 0, 0, 0.8);
      backdrop-filter: blur(10px);
      width: 100%;
      padding: 15px 20px;
      color: white;
      position: fixed;
      top: 60px;
      z-index: 1100;
      animation: fadeIn 1s ease-out;
    }

    .navbar-left {
      display: flex;
      gap: 15px;
    }

    /* Style for the search bar in the navbar */
    .navbar-center {
      flex-grow: 1;
      display: flex;
      justify-content: center;
    }

    .search-bar-container {
      display: flex;
      justify-content: center;
      align-items: center;
      background-color: rgba(255, 255, 255, 0.1);
      padding: 15px;
      border-radius: 8px;
      width: 100%;
      max-width: 900px;  /* Increased width for a longer search bar */
      position: relative;
    }

    .search-bar {
      background: transparent;
      color: white;
      border: none;
      outline: none;
      padding: 12px 20px;
      width: 100%;
      font-size: 16px;
      border-radius: 8px; /* Rectangular shape */
      box-shadow: 0 0 5px 2px rgba(213, 0, 249, 0.5); /* Accent color shadow */
      animation: glowEffect 1.5s infinite alternate;
    }

    .search-bar:focus {
      border: 2px solid #D500F9;
      box-shadow: 0 0 10px 4px rgba(213, 0, 249, 0.7); /* Accent color focus */
      transform: scale(1.05);
    }

    .search-bar::placeholder {
      color: rgba(255, 255, 255, 0.7);
      text-align: center;
    }

    /* Glowing purple animation */
    @keyframes glowEffect {
      0% {
        box-shadow: 0 0 10px 2px rgba(213, 0, 249, 0.8); /* Purple glow */
        transform: scale(1);
        background-color: #1e1e1e; /* Dark background */
      }
      50% {
        box-shadow: 0 0 20px 4px rgba(213, 0, 249, 1); /* Stronger purple glow */
        transform: scale(1.1); /* Slightly larger */
        background-color: #1e1e1e; /* Dark background */
      }
      100% {
        box-shadow: 0 0 10px 2px rgba(0, 0, 0, 0.3); /* Faint black glow */
        transform: scale(1);
        background-color: #121212; /* Dark background */
      }
    }

    /* Content wrapper to fit the iframe */
    .content-wrapper {
      flex-grow: 1;
      overflow: hidden;
      position: relative;
      height: 100%;
      margin-top: 120px;
    }

    iframe {
      width: 100%;
      height: 100%;
      border: none;
      display: none;
    }

    iframe.active {
      display: block;
    }

    /* Fade-in effect for elements */
    @keyframes fadeIn {
      from {
        opacity: 0;
      }
      to {
        opacity: 1;
      }
    }

    @keyframes fadeInTab {
      from {
        opacity: 0;
      }
      to {
        opacity: 1;
      }
    }

    @keyframes fadeInCloseButton {
      from {
        opacity: 0;
      }
      to {
        opacity: 1;
      }
    }
  </style>
</head>
<body>

  <!-- Tabs Section -->
  <div class="tabs" id="tabs">
    <div class="tab active" onclick="selectTab(this)">
      New Tab <span class="close-button" onclick="closeTab(event)">×</span>
    </div>
    <button class="add-tab-button" onclick="addTab()">+</button>
  </div>

  <!-- Navbar Section -->
  <div class="navbar" id="navbar">
    <div class="navbar-left">
      <button onclick="document.querySelector('.tab-iframe.active').contentWindow.history.back()" class="nav-btn">
        <i class="fas fa-arrow-left"></i>
      </button>
      <button onclick="document.querySelector('.tab-iframe.active').contentWindow.history.forward()" class="nav-btn">
        <i class="fas fa-arrow-right"></i>
      </button>
      <button onclick="document.querySelector('.tab-iframe.active').contentWindow.location.reload()" class="nav-btn">
        <i class="fas fa-redo"></i>
      </button>
      <button onclick="toggleFullscreen()" class="nav-btn">
        <i class="fas fa-expand"></i>
      </button>
      <button onclick="toggleNavbar()" class="nav-btn" id="hide-navbar-btn">
        <i class="fa fa-chevron-up"></i>
      </button>
    </div>

    <!-- Centered Search Bar -->
    <div class="navbar-center">
      <div class="search-bar-container">
        <input type="text" id="search-input" class="search-bar" placeholder="Search or enter a URL" onkeydown="handleSearch(event)">
      </div>
    </div>
  </div>

  <!-- Content Wrapper -->
  <div class="content-wrapper" id="content-wrapper">
    <iframe class="tab-iframe active" src="/static/index.html"></iframe>
  </div>

<script>
let tabCount = 1;

      function selectTab(tab) {
        document.querySelectorAll('.tab, .tab-iframe').forEach(el => el.classList.remove('active'));
        tab.classList.add('active');
        document.querySelectorAll('.tab-iframe')[Array.from(tab.parentNode.children).indexOf(tab)].classList.add('active');
      }

      function addTab() {
        tabCount++;
        const tabsContainer = document.getElementById('tabs');
        const newTab = document.createElement('div');
        newTab.classList.add('tab');
        newTab.innerHTML = `New Tab 
                                            <span class="close-button" onclick="closeTab(event)">×</span>`;
        newTab.addEventListener("click", () => selectTab(newTab));
        tabsContainer.insertBefore(newTab, document.querySelector('.add-tab-button'));
        const iframe = document.createElement('iframe');
        iframe.classList.add('tab-iframe');
        iframe.src = '/static/index.html';
        iframe.onload = function() {
          updateTabName(iframe);
        };
        document.getElementById('content-wrapper').appendChild(iframe);
      }

      function closeTab(event) {
        event.stopPropagation();
        const tab = event.target.closest('.tab');
        const iframe = document.querySelectorAll('.tab-iframe')[Array.from(tab.parentNode.children).indexOf(tab)];
        tab.remove();
        iframe.remove();
      }

      function updateTabName(iframe) {
        setTimeout(() => {
          const tabIndex = Array.from(document.querySelectorAll('.tab-iframe')).indexOf(iframe);
          const tab = document.querySelectorAll('.tab')[tabIndex];
          if (tab) {
            tab.innerHTML = `${iframe.contentWindow.document.title || 'New Tab'} 
                                            <span class="close-button" onclick="closeTab(event)">×</span>`;
          }
        }, 500);
      }

      function search() {
        const input = document.getElementById('search-input').value.trim();
        const iframe = document.querySelector('.tab-iframe.active');
        if (input) {
            const url = input.startsWith('http') ? input : `https://duckduckgo.com/?q=${encodeURIComponent(input)}`;
            iframe.src = `/static/embed#${url}`;
        }
      }

      function home() {
        const iframe = document.querySelector('.tab-iframe.active');
        iframe.src = '/static/index';
      }

      function settings() {
        const iframe = document.querySelector('.tab-iframe.active');
        iframe.src = 'settings';
      }

      function toggleFullscreen() {
        const iframe = document.querySelector('.tab-iframe.active');
        if (iframe.requestFullscreen) {
          iframe.requestFullscreen();
        } else if (iframe.mozRequestFullScreen) {
          iframe.mozRequestFullScreen();
        } else if (iframe.webkitRequestFullscreen) {
          iframe.webkitRequestFullscreen();
        } else if (iframe.msRequestFullscreen) {
          iframe.msRequestFullscreen();
        }
      }

      function inspect() {
        window.location.href = "javascript: (function() { fetch('/storage/js/eruda.js') .then(response => { if (!response.ok) throw new Error('Network response was not ok'); return response.text(); }) .then(scriptText => eval(scriptText)) .catch(error => console.error('Error fetching or executing the script:', error)); })();"
      }

      function toggleNavbar() {
        const navbar = document.getElementById('navbar');
        const tabs = document.getElementById('tabs');
        const showNavbarBtn = document.getElementById('show-navbar-btn');
        const hideNavbarBtn = document.getElementById('hide-navbar-btn');
        navbar.classList.toggle('hidden');
        tabs.classList.toggle('hidden');
        showNavbarBtn.classList.toggle('active');
        hideNavbarBtn.classList.toggle('active');
      }

      document.addEventListener("DOMContentLoaded", () => {
        document.querySelector(".add-tab-button").addEventListener("click", addTab);
        document.getElementById("search-input").addEventListener("keydown", (e) => {
          if (e.key === "Enter") search();
        });
      });
  </script>
</body>
</html>
